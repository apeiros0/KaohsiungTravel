"use strict";!function(){var o=[],r=[],l=document.querySelector("#kDistrict-select"),d=document.querySelector(".districtName"),c=document.querySelector(".districtContent"),v=document.querySelector(".hotDistrict-list"),a=(document.querySelector(".hotDistrict-list-link"),document.querySelector(".page")),t=document.querySelector(".goTop"),s=1,p=4,g=0,f=10,u=new XMLHttpRequest;function n(t){t.preventDefault(),d.textContent=t.target.value;for(var n=[],e=0;e<o.length;e++)t.target.value!=o[e].Zone&&t.target.textContent!=o[e].Zone||n.push(o[e]);r=n,s=1,m()}function m(){var t="",n=s*p,e=r.length;!function(t){var n="";if(p<t){g=Math.ceil(t/p);f<g&&(g=f);for(var e=1;e<=g;e++)n+=e==s?'<li class="page-item"><a class="page-direction-link page-link active" href="#">'.concat(e,"</a></li>"):'<li class="page-item"><a class="page-direction-link page-link" href="#">'.concat(e,"</a></li>");a.innerHTML='<li class="page-direction"><a class="page-direction-link" href="#">Prev</a></li>'+n+'<li class="page-direction"><a class="page-direction-link" href="#">Next</a></li>'}else n='<li class="page-item"><a class="page-direction-link page-link active" href="#">1</a></li>',a.innerHTML=n}(e),e=n<e?n:r.length;for(var i=n-p;i<e;i++)r[i].Ticketinfo?t+='<div class="card">\n                    <div class="card-header" style="background-image: url(\''.concat(r[i].Picture1,'\');">\n                      <div class="card-header-body">\n                        <h2 class="card-header-title">').concat(r[i].Name,'</h2>\n                        <p class="card-header-content">').concat(r[i].Zone,'</p>     \n                      </div>                \n                    </div>\n\n                    <div class="card-body">\n                        <div class="districtInfo">\n                        <div class="districtInfo-img"><img src="images/icons_time.png" alt="icons_time"></div>\n                        <p class="districtInfo-content">').concat(r[i].Opentime,'</p>\n                        </div>\n\n                        <div class="districtInfo">\n                        <div class="districtInfo-img"><img src="images/icons_placeholder.png" alt="icons_placeholder"></div>\n                        <p class="districtInfo-content">').concat(r[i].Add,'</p>\n                        </div>\n                    \n                        <div class="positionSet">\n                        <div class="districtInfo">\n                            <div class="districtInfo-img"><img src="images/icons_telephone.png" alt="icons_telephone"></div>\n                            <p class="districtInfo-content">').concat(r[i].Tel,'</p>  \n                        </div>\n                        <div class="districtInfo">\n                            <div class="districtInfo-img"><img src="images/icons_pricetag.png" alt="icons_pricetag"></div>\n                            <p class="districtInfo-content">').concat(r[i].Ticketinfo,"</p>\n                        </div>\n                        </div>\n                    </div>\n                </div>"):t+='<div class="card">\n                  <div class="card-header" style="background-image: url(\''.concat(r[i].Picture1,'\');">\n                    <div class="card-header-body">\n                      <h2 class="card-header-title">').concat(r[i].Name,'</h2>\n                      <p class="card-header-content">').concat(r[i].Zone,'</p>\n                    </div>                \n                  </div>\n\n                    <div class="card-body">\n                        <div class="districtInfo">\n                        <div class="districtInfo-img"><img src="images/icons_time.png" alt="icons_time"></div>\n                        <p class="districtInfo-content">').concat(r[i].Opentime,'</p>\n                        </div>\n\n                        <div class="districtInfo">\n                        <div class="districtInfo-img"><img src="images/icons_placeholder.png" alt="icons_placeholder"></div>\n                        <p class="districtInfo-content">').concat(r[i].Add,'</p>\n                        </div>\n                    \n                        <div class="positionSet">\n                        <div class="districtInfo">\n                            <div class="districtInfo-img"><img src="images/icons_telephone.png" alt="icons_telephone"></div>\n                            <p class="districtInfo-content">').concat(r[i].Tel,"</p>  \n                        </div>\n                        </div>\n                    </div>\n                </div>");c.innerHTML=t}u.open("GET","https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97",!0),u.send(null),u.onload=function(){for(var t=JSON.parse(u.responseText),n=0;n<t.result.records.length;n++)o.push(t.result.records[n]);for(var e=[],i=0;i<o.length;i++)e.push(o[i].Zone);for(var c=e.filter(function(t,n,e){return e.indexOf(t)===n}),a="",s=0;s<c.length;s++)a+='<option value="'.concat(c[s],'">').concat(c[s],"</option>");l.innerHTML="<option disabled selected>- - 請選擇行政區- -</option>"+a,function(t){var n=[],e=[],i=t.length;for(var c in t)n.push(t[c]);for(var a=0;a<4;a++){var s=(o=0,r=i,Math.floor(Math.random()*(r-o)));e.push(n[s]),n.splice(s,1),i--}var o,r;for(var l="",d=["#8a82cc","#559AC8","#F5D005","#FFA782"],p=0;p<e.length;p++)l+='\n                <li class="hotDistrict-list-item" style="border-color: '.concat(d[p],'">\n                    <a href="#" class="hotDistrict-list-link" style="color: ').concat(d[p],';">').concat(e[p],"</a>\n                </li>\n            ");v.innerHTML=l}(c),d.textContent="Experiencing - Kaohsiung",r=o,m()},l.addEventListener("change",n,!1),v.addEventListener("click",function(t){if(t.preventDefault(),"A"!==t.target.nodeName)return;n(t),d.textContent=t.target.textContent,l.value=t.target.textContent},!1),a.addEventListener("click",function(t){if(t.preventDefault(),"A"!==t.target.nodeName)return;"Next"==t.target.textContent?s==g?s=g:s++:"Prev"==t.target.textContent?1==s?s=1:s--:s=parseInt(t.target.textContent);m()},!1),t.addEventListener("click",function(t){t.preventDefault(),document.documentElement.scrollTop=0},!1),window.onscroll=function(){800<document.documentElement.scrollTop?t.style.display="block":t.style.display="none"}}();
//# sourceMappingURL=all.js.map
